# Лабораторная работа Spark/Hadoop

1. Датасет (100000+ строк), 6+ признаков. (минимум 3 типа, хотя бы один категориальный)
2. Развернуть Hadoop, 1 NameNode, 1 DataNode. Загрузить данные в HDFS. Выбрать размер блока.
Ограничить используемую память.
3. Spark Application. Создать app, замерить время и RAM, логировать результаты (ключевые моменты
работы с данными, jobs, stages, убрать WARN, FATAL)
4. Развернуть Hadoop, 1 NameNode, 3+ DataNode. Повторить 3 пункт.
5. Сравнить результаты. (желательно графики)
6. Оптимизировать Spark Application. (параллелизм, кэширование и т.д). (.cache() .persist(), .repartition())
Всего 4 эксперимента. (1 DataNode, Spark) (1 DataNode, Spark Opt) (3 DataNode, Spark) (3 DataNode, Spark Opt).



Набор данных содержит информацию о покупках в 10 различных торговых центрах за период с 2021 по 2023 год. Представлены данные по различным возрастным группам и полам, чтобы получить полное представление о покупательских привычках в Стамбуле. Набор данных содержит важную информацию, такую как номера счетов-фактур, идентификационные данные клиентов, возраст, пол, способы оплаты, категории товаров, количество, цена, даты заказа и расположение торговых центров. 

- invoice_no: номер счета-фактуры. Номинальный. Комбинация буквы "I" и 6-значного целого числа, уникально присваиваемого каждой операции.

- customer_id: номер клиента. Номинальный. Комбинация буквы "С" и 6-значного целого числа, уникально присваиваемого каждой операции.

- gender: строковая переменная, указывающая на пол клиента.

- age: Целочисленная положительная переменная, указывающая на возраст клиента.

- category: Строковая переменная, указывающая на категорию приобретаемого товара.

- quantity: количество каждого товара (позиции) за транзакцию. Числовой.

- price: Цена за единицу измерения. Числовой. Цена товара за единицу в турецких лирах (TL).

- payment_method: Строковая переменная способа оплаты (наличными, кредитной картой или дебетовой картой), используемого для транзакции.

- invoice_date: Дата выставления счета. День, когда была произведена транзакция.

- shopping_mall: строковая переменная названия торгового центра, в котором была совершена транзакция.


Датасет взят с https://www.kaggle.com/datasets/mehmettahiraslan/customer-shopping-dataset

Быстрый запуск тестов:

    - bash run.sh --datanodes 1 --optimized False  # 1 DataNode без оптимизации

    - bash run.sh --datanodes 3 --optimized False # 3 DataNode без оптимизации

    - bash run.sh --datanodes 1 --optimized True # 1 DataNode с оптимизацией

    - bash run.sh --datanodes 3 --optimized True # 3 DataNode с оптимизацией
